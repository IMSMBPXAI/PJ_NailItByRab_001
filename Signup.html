<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - Nail It By Rabbitz</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Kanit', 'sans-serif'],
                    },
                    colors: {
                        brand: { 900: '#7f1d1d' }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">

    <header>
        <nav class="border-b border-red-900 px-4 py-2.5 fixed left-0 right-0 top-0 z-50 bg-red-900 w-full md:w-auto">
            <div class="flex flex-wrap items-center justify-between mx-auto max-w-[1600px]">
                <div class="flex items-center justify-start">
                    <a href="#" class="flex items-center mr-6">
                        <img src="logo rabbitz.svg" class="size-20 mr-3 bg-white rounded-full" alt="Rabbitz Logo" />
                        <span class="self-center text-2xl font-semibold whitespace-nowrap text-red-900"></span>
                    </a>
                    <div class="hidden md:block relative mr-4"> 
                        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                            <svg class="w-5 h-5 text-red-900" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg>
                        </div>
                        <input type="text" class="block w-64 p-2 pl-10 text-sm text-red-900 bg-gray-200 border border-red-900 rounded-lg placeholder-gray-400 focus:ring-white focus:border-white" placeholder="Search">
                    </div>
                </div>

                <div class="flex items-center justify-between w-auto">
                    <ul class="flex flex-row space-x-6 text-sm font-medium border-0 mr-8">
                        <li><a href="Homepage.html" class="text-white hover:text-red-900 bg-red-900 hover:bg-white p-2 rounded-lg transition">Homepage</a></li>
                        <div class="hidden lg:block w-px h-6 bg-white mr-4"></div> 
                        <li><a href="#" class="text-white hover:text-red-900 bg-red-900 hover:bg-white p-2 rounded-lg transition">Contact</a></li>
                        <div class="hidden lg:block w-px h-6 bg-white mr-4"></div>
                        <li><a href="#" class="text-white hover:text-red-900 bg-red-900 hover:bg-white p-2 rounded-lg transition">Booking</a></li>
                    </ul>
                    <div class="hidden lg:block w-px h-6 bg-white mr-4"></div>
                    <div class="flex items-center space-x-4 mr-4">
                        <a href="Signup.html" class="text-white border-2 border-white bg-white-700 hover:bg-red-800 font-medium rounded-lg text-sm px-4 py-2 transition">Sign up</a>
                        <a href="Rolechoosen.html" class="text-red-900 bg-white hover:bg-gray-200 font-medium rounded-lg text-sm px-4 py-2 transition">Sign in</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <div class="flex justify-center items-center min-h-screen pt-32 pb-10 px-4">
        
        <div class="bg-gray-200 rounded-2xl shadow-xl border-2 border-red-900 w-full max-w-md p-8 relative">
            <div class="text-center mb-6">
                <h2 class="text-3xl font-bold text-red-900 uppercase tracking-wide drop-shadow-md">Create Account</h2>
                <p class="text-red-800 text-sm mt-1 opacity-80">สมัครสมาชิกใหม่</p>
            </div>

            <form id="registerForm" action="#" method="POST" class="space-y-4">
                
                <div>
                    <label class="block text-red-900 font-semibold mb-1">Username</label>
                    <input type="text" id="username" class="w-full px-4 py-2 text-red-900 bg-white border-2 border-red-900 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 transition placeholder-red-300" placeholder="ตั้งชื่อผู้ใช้ของคุณ" required>
                </div>

                <div>
                    <label class="block text-red-900 font-semibold mb-1">Phone Number</label>
                    <input type="tel" id="phone" maxlength="12" class="w-full px-4 py-2 text-red-900 bg-white border-2 border-red-900 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 transition placeholder-red-300" placeholder="0xx-xxx-xxxx" required>
                </div>

                <div>
                    <label class="block text-red-900 font-semibold mb-1">Password</label>
                    <input type="password" id="password" class="w-full px-4 py-2 text-red-900 bg-white border-2 border-red-900 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 transition placeholder-red-300" placeholder="********" required>
                    
                    <div class="mt-2 text-xs text-red-900/70 space-y-1 pl-1">
                        <p id="req-length" class="flex items-center"><span class="w-4 h-4 mr-1 border border-red-900 rounded-full flex items-center justify-center text-[10px] opacity-50">✕</span> อย่างน้อย 8 ตัวอักษร</p>
                        <p id="req-upper" class="flex items-center"><span class="w-4 h-4 mr-1 border border-red-900 rounded-full flex items-center justify-center text-[10px] opacity-50">✕</span> ตัวพิมพ์ใหญ่ (A-Z)</p>
                        <p id="req-lower" class="flex items-center"><span class="w-4 h-4 mr-1 border border-red-900 rounded-full flex items-center justify-center text-[10px] opacity-50">✕</span> ตัวพิมพ์เล็ก (a-z)</p>
                        <p id="req-number" class="flex items-center"><span class="w-4 h-4 mr-1 border border-red-900 rounded-full flex items-center justify-center text-[10px] opacity-50">✕</span> ตัวเลข (0-9)</p>
                    </div>
                </div>

                <div>
                    <label class="block text-red-900 font-semibold mb-1">Confirm Password</label>
                    <input type="password" id="confirm_password" class="w-full px-4 py-2 text-red-900 bg-white border-2 border-red-900 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 transition placeholder-red-300" placeholder="********" required>
                    <p id="error-msg" class="text-red-600 font-bold text-xs mt-1 hidden">* รหัสผ่านไม่ตรงกัน</p>
                </div>

                <div class="pt-4 flex justify-center">
                    <button type="submit" id="submitBtn" disabled class="uppercase bg-red-900 hover:bg-red-800 text-white font-bold py-2 px-10 rounded-2xl shadow-lg transition duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100">
                        Sign Up
                    </button>
                </div>

            </form>

            <div class="mt-6 text-center border-t border-red-900/20 pt-4">
                <span class="text-sm text-red-900">Already have an account?</span>
                <a href="Rolechoosen.html" class="text-sm text-red-900 font-bold underline hover:text-red-700">Sign in</a>
            </div>
        </div>
    </div>

    <script>
        const phoneInput = document.getElementById('phone');
        const passwordInput = document.getElementById('password');
        const confirmInput = document.getElementById('confirm_password');
        const submitBtn = document.getElementById('submitBtn');
        const errorMsg = document.getElementById('error-msg');

        // --- 1. Phone Auto-Format (0xx-xxx-xxxx) ---
        phoneInput.addEventListener('input', function (e) {
            let value = e.target.value.replace(/\D/g, ''); // ลบทุกอย่างที่ไม่ใช่ตัวเลข
            
            if (value.length > 10) value = value.slice(0, 10); // จำกัด 10 ตัว

            if (value.length > 6) {
                value = value.slice(0, 3) + '-' + value.slice(3, 6) + '-' + value.slice(6);
            } else if (value.length > 3) {
                value = value.slice(0, 3) + '-' + value.slice(3);
            }
            
            e.target.value = value;
        });

        // --- 2. Password Validation Logic ---
        function validateForm() {
            const pass = passwordInput.value;
            const confirm = confirmInput.value;

            // Regex Patterns
            const hasUpper = /[A-Z]/.test(pass);
            const hasLower = /[a-z]/.test(pass);
            const hasNumber = /[0-9]/.test(pass);
            const hasLength = pass.length >= 8;

            // Update UI Checklist (ฟังก์ชันช่วยเปลี่ยนสี)
            updateStatus('req-upper', hasUpper);
            updateStatus('req-lower', hasLower);
            updateStatus('req-number', hasNumber);
            updateStatus('req-length', hasLength);

            // Check Match
            const isMatch = pass === confirm && pass !== '';
            
            if (!isMatch && confirm !== '') {
                errorMsg.classList.remove('hidden');
                confirmInput.classList.add('border-red-500', 'ring-red-500');
                confirmInput.classList.remove('border-green-500', 'ring-green-500');
            } else if (isMatch) {
                errorMsg.classList.add('hidden');
                confirmInput.classList.remove('border-red-500', 'ring-red-500');
                confirmInput.classList.add('border-green-500', 'ring-green-500');
            } else {
                // กรณีลบจนว่าง
                errorMsg.classList.add('hidden');
                confirmInput.classList.remove('border-red-500', 'ring-red-500', 'border-green-500', 'ring-green-500');
            }

            // Final Check to Enable Button
            if (hasUpper && hasLower && hasNumber && hasLength && isMatch) {
                submitBtn.disabled = false;
            } else {
                submitBtn.disabled = true;
            }
        }

        // ฟังก์ชันเปลี่ยนสี UI รายการตรวจสอบ
        function updateStatus(elementId, isValid) {
            const el = document.getElementById(elementId);
            const icon = el.querySelector('span');
            
            if (isValid) {
                el.classList.remove('text-red-900/70');
                el.classList.add('text-green-700', 'font-semibold');
                icon.innerText = '✓';
                icon.classList.remove('border-red-900', 'opacity-50');
                icon.classList.add('border-green-700', 'bg-green-100');
            } else {
                el.classList.add('text-red-900/70');
                el.classList.remove('text-green-700', 'font-semibold');
                icon.innerText = '✕';
                icon.classList.add('border-red-900', 'opacity-50');
                icon.classList.remove('border-green-700', 'bg-green-100');
            }
        }

        passwordInput.addEventListener('input', validateForm);
        confirmInput.addEventListener('input', validateForm);
    </script>
</body>
</html>